---
title: "자바스크립트 알고리즘 : 모든 아나그램 찾기"
layout: single
categories: Algorithm
toc: true
toc_label: "Index"
toc_icon: "pencil-alt"
toc_sticky: true
---

## 5-8. 모든 아나그램 찾기(해쉬, 투포인터, 슬라이딩 윈도우)

### 문제

S문자열에서 T문자열과 아나그램이 되는 S의 부분문자열의 개수를 구하는 프로그램을 작성하세요. 아나그램 판별시 대소문자가 구분됩니다. 부분문자열은 연속된 문자열이어야 합니다.

> 입력예제

- bacaAacba
- abc

> 출력예제

- 3

> 출력설명: {bac}, {acb}, {cba} 3개의 부분문자열이 "abc"문자열과 아나그램입니다.

### 해결

1. T문자열을 Map 객체로 만든다.
2. S문자열을 T문자열과 길이가 일치하도록 슬라이딩 윈도우 기법을 이용하여, Map 객체로 만든다.
3. S객체와 T객체가 아나그램인지 비교한다.
   1. 객체의 size 비교
   2. key 비교
   3. value 비교

```jsx
function compareMaps(map1, map2) {
  if (map1.size !== map2.size) return false;
  for (let [key, value] of map1) {
    if (!map2.has(key) || map2.get(key) !== value) return false;
  }
  return true;
}

function solution(s, t) {
  let answer = 0;

  let tH = new Map();
  let sH = new Map();

  for (let x of t) {
    if (tH.has(x)) tH.set(x, tH.get(x) + 1);
    else tH.set(x, 1);
  }

  let len = t.length - 1;

  for (let i = 0; i < len; i++) {
    if (sH.has(s[i])) sH.set(s[i], sH.get(s[i]) + 1);
    else sH.set(s[i], 1);
  }

  let lt = 0;

  for (let rt = len; rt < s.length; rt++) {
    if (sH.has(s[rt])) sH.set(s[rt], sH.get(s[rt]) + 1);
    else sH.set(s[rt], 1);
    if (compareMaps(sH, tH)) answer++;
    sH.set(s[lt], sH.get(s[lt]) - 1);
    if (sH.get(s[lt]) === 0) sH.delete(s[lt]);
    lt++;
  }

  return answer;
}

let a = "bacaAacba";
let b = "abc";
console.log(solution(a, b));
```

---

_해당 내용은 [김태원님의 자바스크립트 알고리즘 문제풀이](https://www.inflearn.com/course/%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98-%EB%AC%B8%EC%A0%9C%ED%92%80%EC%9D%B4/dashboard) 강의를 듣고 작성한 글입니다._
